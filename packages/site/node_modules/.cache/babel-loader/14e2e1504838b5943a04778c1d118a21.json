{"ast":null,"code":"import _objectSpread from \"/Users/dbarabashdev/dev/engineer/window-split/window-splitter/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/dbarabashdev/dev/engineer/window-split/window-splitter/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useEffect } from \"react\";\nimport { SPLITTER_CLASSNAME } from \"./constants\";\nimport { constantContainerStyle, constantMainPaneStyle, division, constantSecondPaneStyle } from \"./styles\";\n\nfunction useWindowSplitter(options) {\n  var _React$useState = React.useState(0),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      size = _React$useState2[0],\n      setSize = _React$useState2[1];\n\n  var ref = React.useRef(null);\n  var closed = React.useRef(true);\n\n  var unclosed = function unclosed(e) {\n    return e.target.className === SPLITTER_CLASSNAME && (closed.current = false);\n  };\n\n  var close = function close() {\n    return closed.current = true;\n  };\n\n  var onMouseMove = function onMouseMove(e) {\n    if (closed.current) {\n      return;\n    }\n\n    setSize(size + e.movementX);\n  };\n\n  useEffect(function () {\n    if (ref.current) {\n      var rect = ref.current.getBoundingClientRect(); // returns the size of an element and its position relative to the viewport.\n\n      var widthInit = rect.width / 2;\n      setSize(widthInit);\n    }\n  }, [options.layout]);\n  var containerStyle, mainPaneStyle, divisionStyle, secondPaneStyle;\n  mainPaneStyle = _objectSpread({\n    width: size,\n    height: \"100%\"\n  }, constantMainPaneStyle);\n  divisionStyle = _objectSpread({\n    width: 10,\n    height: \"100%\",\n    cursor: \"col-resize\"\n  }, division);\n  containerStyle = _objectSpread({\n    flexDirection: \"row\"\n  }, constantContainerStyle);\n  secondPaneStyle = constantSecondPaneStyle;\n  return {\n    containerProps: {\n      onMouseDown: unclosed,\n      onMouseUp: close,\n      onMouseLeave: close,\n      onMouseMove: onMouseMove,\n      ref: ref,\n      style: containerStyle\n    },\n    mainPaneProps: {\n      style: mainPaneStyle\n    },\n    splitterProps: {\n      style: divisionStyle,\n      className: SPLITTER_CLASSNAME\n    },\n    secondPaneProps: {\n      style: secondPaneStyle\n    }\n  };\n}\n\nexport default useWindowSplitter;","map":{"version":3,"sources":["/Users/dbarabashdev/dev/engineer/window-split/window-splitter/packages/lib/dist/WindowSplitter/useWindowSplitter.js"],"names":["React","useEffect","SPLITTER_CLASSNAME","constantContainerStyle","constantMainPaneStyle","division","constantSecondPaneStyle","useWindowSplitter","options","useState","size","setSize","ref","useRef","closed","unclosed","e","target","className","current","close","onMouseMove","movementX","rect","getBoundingClientRect","widthInit","width","layout","containerStyle","mainPaneStyle","divisionStyle","secondPaneStyle","height","cursor","flexDirection","containerProps","onMouseDown","onMouseUp","onMouseLeave","style","mainPaneProps","splitterProps","secondPaneProps"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,kBAAT,QAAmC,aAAnC;AACA,SAASC,sBAAT,EAAiCC,qBAAjC,EAAwDC,QAAxD,EAAkEC,uBAAlE,QAAiG,UAAjG;;AACA,SAASC,iBAAT,CAA2BC,OAA3B,EAAoC;AAAA,wBACRR,KAAK,CAACS,QAAN,CAAe,CAAf,CADQ;AAAA;AAAA,MACzBC,IADyB;AAAA,MACnBC,OADmB;;AAEhC,MAAMC,GAAG,GAAGZ,KAAK,CAACa,MAAN,CAAa,IAAb,CAAZ;AACA,MAAMC,MAAM,GAAGd,KAAK,CAACa,MAAN,CAAa,IAAb,CAAf;;AACA,MAAME,QAAQ,GAAG,SAAXA,QAAW,CAACC,CAAD;AAAA,WAAOA,CAAC,CAACC,MAAF,CAASC,SAAT,KAAuBhB,kBAAvB,KAA8CY,MAAM,CAACK,OAAP,GAAiB,KAA/D,CAAP;AAAA,GAAjB;;AACA,MAAMC,KAAK,GAAG,SAARA,KAAQ;AAAA,WAAON,MAAM,CAACK,OAAP,GAAiB,IAAxB;AAAA,GAAd;;AACA,MAAME,WAAW,GAAG,SAAdA,WAAc,CAACL,CAAD,EAAO;AACvB,QAAIF,MAAM,CAACK,OAAX,EAAoB;AAChB;AACH;;AACDR,IAAAA,OAAO,CAACD,IAAI,GAAGM,CAAC,CAACM,SAAV,CAAP;AACH,GALD;;AAMArB,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAIW,GAAG,CAACO,OAAR,EAAiB;AACb,UAAMI,IAAI,GAAGX,GAAG,CAACO,OAAJ,CAAYK,qBAAZ,EAAb,CADa,CACqC;;AAClD,UAAMC,SAAS,GAAGF,IAAI,CAACG,KAAL,GAAa,CAA/B;AACAf,MAAAA,OAAO,CAACc,SAAD,CAAP;AACH;AACJ,GANQ,EAMN,CAACjB,OAAO,CAACmB,MAAT,CANM,CAAT;AAOA,MAAIC,cAAJ,EAAoBC,aAApB,EAAmCC,aAAnC,EAAkDC,eAAlD;AACAF,EAAAA,aAAa;AACTH,IAAAA,KAAK,EAAEhB,IADE;AAETsB,IAAAA,MAAM,EAAE;AAFC,KAGN5B,qBAHM,CAAb;AAKA0B,EAAAA,aAAa;AACTJ,IAAAA,KAAK,EAAE,EADE;AAETM,IAAAA,MAAM,EAAE,MAFC;AAGTC,IAAAA,MAAM,EAAE;AAHC,KAIN5B,QAJM,CAAb;AAMAuB,EAAAA,cAAc;AAAKM,IAAAA,aAAa,EAAE;AAApB,KAA8B/B,sBAA9B,CAAd;AACA4B,EAAAA,eAAe,GAAGzB,uBAAlB;AACA,SAAO;AACH6B,IAAAA,cAAc,EAAE;AACZC,MAAAA,WAAW,EAAErB,QADD;AAEZsB,MAAAA,SAAS,EAAEjB,KAFC;AAGZkB,MAAAA,YAAY,EAAElB,KAHF;AAIZC,MAAAA,WAAW,EAAXA,WAJY;AAKZT,MAAAA,GAAG,EAAEA,GALO;AAMZ2B,MAAAA,KAAK,EAAEX;AANK,KADb;AASHY,IAAAA,aAAa,EAAE;AAAED,MAAAA,KAAK,EAAEV;AAAT,KATZ;AAUHY,IAAAA,aAAa,EAAE;AAAEF,MAAAA,KAAK,EAAET,aAAT;AAAwBZ,MAAAA,SAAS,EAAEhB;AAAnC,KAVZ;AAWHwC,IAAAA,eAAe,EAAE;AAAEH,MAAAA,KAAK,EAAER;AAAT;AAXd,GAAP;AAaH;;AACD,eAAexB,iBAAf","sourcesContent":["import React, { useEffect } from \"react\";\nimport { SPLITTER_CLASSNAME } from \"./constants\";\nimport { constantContainerStyle, constantMainPaneStyle, division, constantSecondPaneStyle } from \"./styles\";\nfunction useWindowSplitter(options) {\n    const [size, setSize] = React.useState(0);\n    const ref = React.useRef(null);\n    const closed = React.useRef(true);\n    const unclosed = (e) => e.target.className === SPLITTER_CLASSNAME && (closed.current = false);\n    const close = () => (closed.current = true);\n    const onMouseMove = (e) => {\n        if (closed.current) {\n            return;\n        }\n        setSize(size + e.movementX);\n    };\n    useEffect(() => {\n        if (ref.current) {\n            const rect = ref.current.getBoundingClientRect(); // returns the size of an element and its position relative to the viewport.\n            const widthInit = rect.width / 2;\n            setSize(widthInit);\n        }\n    }, [options.layout]);\n    let containerStyle, mainPaneStyle, divisionStyle, secondPaneStyle;\n    mainPaneStyle = {\n        width: size,\n        height: \"100%\",\n        ...constantMainPaneStyle,\n    };\n    divisionStyle = {\n        width: 10,\n        height: \"100%\",\n        cursor: \"col-resize\",\n        ...division,\n    };\n    containerStyle = { flexDirection: \"row\", ...constantContainerStyle };\n    secondPaneStyle = constantSecondPaneStyle;\n    return {\n        containerProps: {\n            onMouseDown: unclosed,\n            onMouseUp: close,\n            onMouseLeave: close,\n            onMouseMove,\n            ref: ref,\n            style: containerStyle,\n        },\n        mainPaneProps: { style: mainPaneStyle },\n        splitterProps: { style: divisionStyle, className: SPLITTER_CLASSNAME },\n        secondPaneProps: { style: secondPaneStyle },\n    };\n}\nexport default useWindowSplitter;\n"]},"metadata":{},"sourceType":"module"}